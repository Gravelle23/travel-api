{
  "openapi": "3.0.0",
  "info": {
    "title": "Travel API",
    "version": "1.0.0",
    "description": "CRUD API for travel destinations, trips, travelers, and bookings."
  },
  "servers": [
    {
      "url": "https://travel-api-84v6.onrender.com",
      "description": "Render server"
    },
    {
      "url": "http://localhost:3000",
      "description": "Local server"
    }
  ],
  "paths": {
    "/destinations": {
      "get": {
        "summary": "Get all destinations",
        "responses": {
          "200": { "description": "List of destinations" },
          "500": { "description": "Server error" }
        }
      },
      "post": {
        "summary": "Create a destination",
        "security": [{ "bearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Destination" }
            }
          }
        },
        "responses": {
          "201": { "description": "Destination created" },
          "400": { "description": "Validation error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/destinations/{id}": {
      "get": {
        "summary": "Get destination by ID",
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Destination found" },
          "400": { "description": "Invalid ID format" },
          "404": { "description": "Destination not found" },
          "500": { "description": "Server error" }
        }
      },
      "put": {
        "summary": "Update destination",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Destination" }
            }
          }
        },
        "responses": {
          "200": { "description": "Destination updated" },
          "400": { "description": "Validation or ID error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Destination not found" },
          "500": { "description": "Server error" }
        }
      },
      "delete": {
        "summary": "Delete destination",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Destination deleted" },
          "400": { "description": "Invalid ID format" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Destination not found" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/trips": {
      "get": {
        "summary": "Get all trips",
        "responses": {
          "200": { "description": "List of trips" },
          "500": { "description": "Server error" }
        }
      },
      "post": {
        "summary": "Create a trip",
        "security": [{ "bearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Trip" }
            }
          }
        },
        "responses": {
          "201": { "description": "Trip created" },
          "400": { "description": "Validation error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/trips/{id}": {
      "get": {
        "summary": "Get trip by ID",
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Trip found" },
          "400": { "description": "Invalid ID format" },
          "404": { "description": "Trip not found" },
          "500": { "description": "Server error" }
        }
      },
      "put": {
        "summary": "Update trip",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Trip" }
            }
          }
        },
        "responses": {
          "200": { "description": "Trip updated" },
          "400": { "description": "Validation or ID error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Trip not found" },
          "500": { "description": "Server error" }
        }
      },
      "delete": {
        "summary": "Delete trip",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Trip deleted" },
          "400": { "description": "Invalid ID format" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Trip not found" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/travelers": {
      "get": {
        "summary": "Get all travelers",
        "responses": {
          "200": { "description": "List of travelers" },
          "500": { "description": "Server error" }
        }
      },
      "post": {
        "summary": "Create a traveler",
        "security": [{ "bearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Traveler" }
            }
          }
        },
        "responses": {
          "201": { "description": "Traveler created" },
          "400": { "description": "Validation error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/travelers/{id}": {
      "get": {
        "summary": "Get traveler by ID",
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Traveler found" },
          "400": { "description": "Invalid ID format" },
          "404": { "description": "Traveler not found" },
          "500": { "description": "Server error" }
        }
      },
      "put": {
        "summary": "Update traveler",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Traveler" }
            }
          }
        },
        "responses": {
          "200": { "description": "Traveler updated" },
          "400": { "description": "Validation or ID error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Traveler not found" },
          "500": { "description": "Server error" }
        }
      },
      "delete": {
        "summary": "Delete traveler",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Traveler deleted" },
          "400": { "description": "Invalid ID format" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Traveler not found" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/bookings": {
      "get": {
        "summary": "Get all bookings",
        "responses": {
          "200": { "description": "List of bookings" },
          "500": { "description": "Server error" }
        }
      },
      "post": {
        "summary": "Create a booking",
        "security": [{ "bearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Booking" }
            }
          }
        },
        "responses": {
          "201": { "description": "Booking created" },
          "400": { "description": "Validation error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/bookings/{id}": {
      "get": {
        "summary": "Get booking by ID",
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Booking found" },
          "400": { "description": "Invalid ID format" },
          "404": { "description": "Booking not found" },
          "500": { "description": "Server error" }
        }
      },
      "put": {
        "summary": "Update booking",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/Booking" }
            }
          }
        },
        "responses": {
          "200": { "description": "Booking updated" },
          "400": { "description": "Validation or ID error" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Booking not found" },
          "500": { "description": "Server error" }
        }
      },
      "delete": {
        "summary": "Delete booking",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "Booking deleted" },
          "400": { "description": "Invalid ID format" },
          "401": { "description": "Unauthorized (missing or invalid token)" },
          "404": { "description": "Booking not found" },
          "500": { "description": "Server error" }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Destination": {
        "type": "object",
        "required": [
          "name",
          "country",
          "city",
          "rating",
          "averageCostUSD",
          "bestSeason",
          "isFamilyFriendly"
        ],
        "properties": {
          "name": { "type": "string", "example": "Paris" },
          "country": { "type": "string", "example": "France" },
          "city": { "type": "string", "example": "Paris" },
          "description": {
            "type": "string",
            "example": "City of Light with iconic landmarks."
          },
          "rating": { "type": "number", "example": 4.8 },
          "averageCostUSD": { "type": "number", "example": 1500 },
          "bestSeason": { "type": "string", "example": "Spring" },
          "isFamilyFriendly": { "type": "boolean", "example": true }
        }
      },
      "Trip": {
        "type": "object",
        "required": [
          "destinationId",
          "startDate",
          "endDate",
          "travelerName",
          "travelerCount",
          "totalCostUSD"
        ],
        "properties": {
          "destinationId": {
            "type": "string",
            "example": "64bfe9f7c9e77a3d8f6a1234"
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "example": "2025-06-01T00:00:00.000Z"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "example": "2025-06-10T00:00:00.000Z"
          },
          "travelerName": { "type": "string", "example": "John Doe" },
          "travelerCount": { "type": "integer", "example": 2 },
          "totalCostUSD": { "type": "number", "example": 2800 },
          "notes": {
            "type": "string",
            "example": "Anniversary trip; include Eiffel Tower visit."
          }
        }
      },
      "Traveler": {
        "type": "object",
        "required": [
          "name",
          "email",
          "isVIP"
        ],
        "properties": {
          "name": { "type": "string", "example": "Jane Smith" },
          "email": { "type": "string", "example": "jane@example.com" },
          "phone": { "type": "string", "example": "+1-555-123-4567" },
          "preferredLanguage": { "type": "string", "example": "English" },
          "isVIP": { "type": "boolean", "example": false }
        }
      },
      "Booking": {
        "type": "object",
        "required": [
          "destinationId",
          "travelerId",
          "startDate",
          "endDate",
          "totalPriceUSD",
          "status"
        ],
        "properties": {
          "destinationId": {
            "type": "string",
            "example": "64bfe9f7c9e77a3d8f6a1234"
          },
          "travelerId": {
            "type": "string",
            "example": "64bfe9f7c9e77a3d8f6a5678"
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "example": "2025-07-01T00:00:00.000Z"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "example": "2025-07-08T00:00:00.000Z"
          },
          "totalPriceUSD": { "type": "number", "example": 3200 },
          "status": {
            "type": "string",
            "enum": ["Pending", "Confirmed", "Cancelled"],
            "example": "Confirmed"
          },
          "notes": {
            "type": "string",
            "example": "Customer requested window seat on flights."
          }
        }
      }
    }
  }
}
